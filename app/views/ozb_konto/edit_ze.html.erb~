<h1>ZEKonto</h1>
<h1>ZEKonto Editieren</h1>

<%= form_for @ozb_konto, :url => { :action => "update" }, :html => {:id => "editForm", :method => "POST"}  do |f| %>

  <% if !@errors.nil? && @errors.any? %>
  <div id="error_explanation">
    <h2><%= @error_count %> Fehler <br /> Konnte kein Konto anlegen, weil:</h2>

    <ul>
      <% @errors.each do |error| %>
        <% if !error.nil? && error.any? %>
          <% error.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        <% end %>
      <% end %>
    </ul>
  </div>
  <% end %>
  
  
  <h2 style="margin-top:40px;">OZB-Konto</h2>
  <table>
    <tr>
      <td>Konto-Nr.:</td>
      <td><%= label_tag :ozbKtoNr, @ozb_konto.ktoNr %> <%= f.hidden_field :ktoNr %></td>
    </tr>
    <tr>
      <td>wSaldo:</td>
      <td><%= label_tag :wSaldo, @ozb_konto.wSaldo %></td>
    </tr>
    <tr>
      <td>pSaldo:</td>
      <td><%= label_tag :pSaldo, @ozb_konto.pSaldo %></td>
    </tr>
    <tr>
      <td>SaldoDatum:</td>
      <td><%= label_tag :saldoDatum, @ozb_konto.saldoDatum, :id => "saldoDatum" %></td>
    </tr>
  </table>
  
  
  <!-- ZE-Konto:  :ktoNr, :eeKtoNr, :pgNr, :zeNr, :zeAbDatum, :zeEndDatum, :zeBetrag, 
                  :laufzeit, :zahlModus, :tilgRate, :ansparRate, :kduRate, :rduRate, :zeStatus -->
  <h2 style="margin-top:20px;">ZE-Konto</h2>
  <table>
    <tr>
      <td>Konto-Nr.:</td>
      <td><%= label_tag :zeKtoNr, @ze_konto.ktoNr %> <%= hidden_field_tag :zeKtoNr, @ze_konto.ktoNr %></td>
    </tr>
    <tr>
      <td>ZE-Nr.:</td>
      <td><%= label_tag :zeNr, @ze_konto.zeNr %></td>
    </tr>
    <tr>
      <td>EE-Konto-Nr.:</td>
      <td><%= label_tag :eeKtoNr, @ze_konto.eeKtoNr, :id => "ktoNr" %></td>
    </tr>
    <tr>
      <td>AbDatum:</td>
      <td><%= label_tag :zeAbDatum, @ze_konto.zeAbDatum, :id => "zeAbDatum" %></td>
    </tr>
    <tr>
      <td>EndDatum:</td>
      <td><%= text_field_tag :zeEndDatum, @ze_konto.zeEndDatum, :id => "zeEndDatum" %></td>
    </tr>
    <tr>
      <td>Betrag:</td>
      <td><%= label_tag :zeBetrag, @ze_konto.zeBetrag %></td>
    </tr>
    <tr>
      <td>Laufzeit:</td>
      <td><%= text_field_tag :laufzeit, @ze_konto.laufzeit %></td>
    </tr>
    <tr>
      <td>Zahlmodus:</td>
      <td><%= text_field_tag :zahlModus, @ze_konto.zahlModus %></td>
    </tr>
    <tr>
      <td>Tilgungs-Rate:</td>
      <td><%= text_field_tag :tilgRate, @ze_konto.tilgRate %></td>
    </tr>
    <tr>
      <td>Anspar-Rate:</td>
      <td><%= text_field_tag :ansparRate, @ze_konto.ansparRate %></td>
    </tr>
    <tr>
      <td>Kdu-Rate:</td>
      <td><%= text_field_tag :kduRate, @ze_konto.kduRate %></td>
    </tr>
    <tr>
      <td>Rdu-Rate:</td>
      <td><%= text_field_tag :rduRate, @ze_konto.rduRate %></td>
    </tr>
    <tr>
      <td>Status:</td>
      <td><%= label_tag :zeStatus, @ze_konto.zeStatus %></td>
    </tr>
  </table>  
  
  <br />
  
<% end %>

<table class="actions">
  <tr>
    <td><%= link_to "Abbrechen", "../", :class => "cancel_link" %></td>
    <td><%= link_to_function "Speichern", "this.form.submit()", :onclick => "$('#editForm').submit(); return false;", :class => "submit_ok"  %></td>
  </tr>
</table>

<script>
  $(function() {
    $( "#saldoDatum" ).datepicker({
      dateFormat: 'dd.mm.yy'
    });
    $( "#zeAbDatum" ).datepicker({
      dateFormat: 'dd.mm.yy'
    });
    $( "#zeEndDatum" ).datepicker({
      dateFormat: 'dd.mm.yy'
    });
  });
</script>
